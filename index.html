<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oren - Ø£ÙˆØ±ÙŠÙ†</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
        * { box-sizing: border-box; font-family: 'Poppins', sans-serif; transition: 0.3s; }
        body { margin: 0; background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); height: 100vh; display: flex; justify-content: center; align-items: center; color: white; }
        .container { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); padding: 40px; border-radius: 25px; width: 90%; max-width: 400px; text-align: center; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 40px rgba(0,0,0,0.4); }
        .logo { font-size: 45px; font-weight: 800; letter-spacing: 2px; background: linear-gradient(to right, #00d2ff, #9d50bb); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
        h3 { font-weight: 300; margin-bottom: 30px; color: #ccc; }
        input { width: 100%; padding: 14px; margin: 10px 0; border-radius: 12px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05); color: white; font-size: 16px; outline: none; }
        input:focus { border-color: #00d2ff; background: rgba(255,255,255,0.1); }
        button { width: 100%; padding: 16px; border-radius: 12px; border: none; background: linear-gradient(to right, #00d2ff, #3a7bd5); color: white; font-size: 17px; font-weight: 600; cursor: pointer; margin-top: 15px; box-shadow: 0 5px 15px rgba(0,210,255,0.3); }
        button:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,210,255,0.5); }
        button:disabled { background: #555; cursor: not-allowed; }
    </style>
</head>
<body>

<div class="container">
    <div class="logo">OREN</div>
    <div id="regForm">
        <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" id="fName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <button id="btnSave">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø£ÙˆØ±ÙŠÙ†</button>
    </div>
</div>

<script type="module">
    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ÙƒØªØ¨Ø§Øª Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // Ø§Ù„Ù€ Config Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (ØªÙ… Ø±Ø¨Ø·Ù‡ Ø¨Ù†Ø¬Ø§Ø­)
    const firebaseConfig = {
      apiKey: "AIzaSyALgV2v3lmxvEoP0HosqGSqm727vZrYUq4",
      authDomain: "orenapp-f2f1e.firebaseapp.com",
      projectId: "orenapp-f2f1e",
      storageBucket: "orenapp-f2f1e.firebasestorage.app",
      messagingSenderId: "973368909449",
      appId: "1:973368909449:web:ce364a309f622f575c3058"
    };

    // ØªØ´ØºÙŠÙ„ Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Ø¨Ø±Ù…Ø¬Ø© Ø²Ø±Ø§Ø± Ø§Ù„Ø­ÙØ¸
    document.getElementById('btnSave').onclick = async () => {
        const btn = document.getElementById('btnSave');
        const name = document.getElementById('fName').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;

        if(!name || !email || !phone) {
            return alert("Ù…Ù† ÙØ¶Ù„Ùƒ ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø£ÙˆÙ„!");
        }

        btn.disabled = true;
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...";

        try {
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© "users" ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ
            await addDoc(collection(db, "users"), {
                fullName: name,
                email: email,
                phone: phone,
                createdAt: new Date().toLocaleString()
            });
            
            alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ ÙÙŠ Oren Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰");
            document.getElementById('fName').value = "";
            document.getElementById('email').value = "";
            document.getElementById('phone').value = "";
        } catch (e) {
            console.error("Error: ", e);
            alert("Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø©: " + e.message);
        } finally {
            btn.disabled = false;
            btn.innerText = "Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø£ÙˆØ±ÙŠÙ†";
        }
    };
</script>

</body>
</html>
